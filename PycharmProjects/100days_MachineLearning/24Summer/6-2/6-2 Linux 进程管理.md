# 6-2Log
# Linux进程管理
## 一、定义
1. Linux存在process 和 thread 两种操作系统基本的概念
>process 是进程 == 工厂
> 
>thread  是线程 == 线程
2. 进程就是Linux系统上的一个任务资源单位，好比工厂的车间，一个工厂可能有多个车间
每一个车间代表cpu正在处理的任务

3. 在一个车间内，想要完成某一项工作，必须得有工人，多个工人协同完成这个任务

4. linux进程单位是有存储空间的，在进程内的内存空间被线程共享

5. 车间内的小房间，容量大小个不同，有的小房间可以容下多个工人（某一块内存数据可以被多个线程同时使用）
有的房间智能容下一个人（某一块内存只能给一个线程使用）其他线程必须等待这个线程处理内存数据完毕
6. 线程在使用内存数据的时候（好比卫生间在被使用），线程2想要抢夺内存，就会形成混乱。
这时线程可以针对内存数据加一把锁。如上锁的概念就是进线程中的互斥锁的概念（mutex，互斥锁，防止线程被内存数据抢夺的作用，防止多个
线程同时读写一块内存数据）
7. Linux是一个多用户，多任务的操作系统，支持多进程，多线程

## 二、进程管理命令
### 2.1 ps命令：Process Statue
用于报告当前系统的进程状态的命令，ps命令用来查询进程信息，和kill命令搭配，进行对进程的管理和杀死

    ps的实际使用：
        PID TTY          TIME CMD
      71419 pts/0    00:00:00 bash
      71430 pts/0    00:00:00 ps
    PID：代表进程对应的号码（某一个车间的门牌号）
    TTY：进程所属的控制台号码
    TIME：时间信息
    CMD：正在执行的系统命令行是什么
### 2.2 通过grep命令过滤某一个进程的信息
    parallels@debian-gnu-linux-11:~$ ps | grep bash
    71419 pts/0    00:00:00 bash
- 可以使用 

     kill -9 pid号码   # 强制杀死进程
### 2.3 ps的基本命令：
    ps -ef   #显示出Linux机器所有详细的进程信息
    -e 代表 列出系统所有运行的进程
    -f  显示ID
>输出结果：
> 
    UID：这个进程是那个用户执行的命令
    PID：进程的标识号码，用于启停进程
    PPID：进程的父进程标识号
    C：表示CPU使用的资源百分比
    STIME：表示进程开始执行时间
    TTY：该进程在哪个终端上执行的
    TIME：该进程使用的CPU总时长
    CMD：用户执行了某条命令，产生的进程信息
    
### 2.4 过滤出需要的系统信息
    ps -ef ｜grep vim
### 2.5 PS命令的两种系统形式
- 第一种：不带减号的参数：
    ps ef  ：不带减号的参数 e：列出进程信息，添加每个进程所在的环境变量 f：1️以ASCII码的形式显示
- 第二种：带减号的参数
    ps -e -f   如上2.3
### 2.6 PS查看进程的组合命令：
    ps aux   
    ·a 显示当前终端下所有的进程
    ·u 以用户为主的格式显示进程的情况
    ·x 显示所有进程相关信息
### 2.7 显示指定用户的进程信息：
    ps -u 用户用      # 显示用户名的进程信息

### 2.8 显示进程树的信息，用UNIX风格的命令
    ps -eH
### 2.9 查看进程树的命令
    pstree
### 2.10 通过程序名字查询相关进程，判断是否存活
    pgrep
    pgrep nginx # 查询nginx是否存活
### 2.11 kill命令
    -l  列出所有的杀死命令
    kill -9 pid     # 立即停止进程，可以杀死所有进程
### 2.12 特殊信号之0
    常用在shell脚本中，判断进程是否存在
    kill -0 pid  如果执行是0，表示此进程存在，如果是1，表示不存在
    echo $? : 取出上一次命令的执行结果
### 2.13 killall 和 pkill：
kill 只能杀死一个进程，killall可以杀死所有进程

    killall vim： 杀死所有vim进程
    pkill  vim ：杀死所有vim进程

- killall 可能杀不死所有，进程可能含有子进程，killall要杀死多次
- pkill 可以直接杀死所有父进程和子进程

### 2.14 通过
  
